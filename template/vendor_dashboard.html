{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vendor Dashboard</title>
    <link rel="stylesheet" href="{% static 'css/vendor.css' %}">
    <script src="{% static 'js/chart.js' %}"></script>
</head>
<body>
    <div class="container">
        <h1>Vendor Dashboard</h1>
        <h2>Welcome Subitha!</h2>
        
        <!-- Add Product Button -->
        <div class="add-product">
            <button onclick="document.getElementById('addProductForm').style.display='block'">Add Product</button>
        </div>
        
        <!-- Add Product Form -->
        <div id="addProductForm" class="form-popup" style="display:none;">
            <h3>Add New Product</h3>
            <form method="POST" action="{% url 'add_product' %}">
                {% csrf_token %}
                <label for="name">Product Name:</label>
                <input type="text" id="name" name="name" required>

                <label for="price">Price:</label>
                <input type="number" step="0.01" id="price" name="price" required>

                <label for="image">Image URL:</label>
                <input type="text" id="image" name="image">

                <input type="submit" value="Add Product">
                <button type="button" onclick="document.getElementById('addProductForm').style.display='none'">Close</button>
            </form>
        </div>
        <br>

        <div class="summary">
            <div>Total Orders: {{ total_orders }}</div>
            <div>Total Revenue: ${{ total_revenue }}</div>
            <div>Pending Orders: {{ pending_orders }}</div>
            <div>Completed Orders: {{ completed_orders }}</div>
        </div>
        <div class="recent-orders">
            <h2>Recent Orders</h2>
            <table>
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th>Customer Name</th>
                        <th>Order Date</th>
                        <th>Order Status</th>
                        <th>Quantity</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in recent_orders %}
                    <tr>
                        <td>{{ order.id }}</td>
                        <td>{{ order.customer_name }}</td>
                        <td>{{ order.order_date }}</td>
                        <td>{{ order.status }}</td>
                        <td>{{ order.quantity }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="performance-metrics">
            <h2>Performance Metrics</h2>
            <div class="chart">
                <h3>Sales Trend</h3>
                <div style="background: #e0e0e0; height: 200px; text-align: center; line-height: 200px;">[Sales Trend Chart]</div>
            </div>
            <div class="top-products">
                <h3>Top Products</h3>
                <div>Product ISABION - 100 sold</div>
                <div>Product AGILE - 80 sold</div>
            </div>
        </div>
        <div class="alerts">
            <h2>Alerts/Notifications</h2>
            <div>- Action needed for Order #002</div>
            <div>- Low stock alert: Product COUNCIL ACTIVE</div>
        </div>
    </div>
</body>
</html>
